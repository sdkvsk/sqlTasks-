Лабораторна 3

-- 1. Вивести книги у яких не введена ціна або ціна дорівнює 0
SELECT * FROM Books WHERE ціна IS NULL OR ціна = 0;

-- 2. Вивести книги у яких введена ціна, але не введений тираж
SELECT * FROM Books WHERE ціна IS NOT NULL AND Тираж IS NULL;

-- 3. Вивести книги, про дату видання яких нічого не відомо.
SELECT * FROM Books WHERE Дата IS NULL;

-- 4. Вивести книги, з дня видання яких пройшло не більше року.
SELECT * FROM Books WHERE Дата >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR);

-- 5. Вивести список книг-новинок, відсортованих за зростанням ціни
SELECT * FROM Books WHERE новинка = 'Yes' ORDER BY ціна ASC;

-- 6. Вивести список книг з числом сторінок від 300 до 400, відсортованих в зворотному алфавітному порядку назв
SELECT * FROM Books WHERE сторінки BETWEEN 300 AND 400 ORDER BY назва DESC;

-- 7. Вивести список книг з ціною від 20 до 40, відсортованих за спаданням дати
SELECT * FROM Books WHERE ціна BETWEEN 20 AND 40 ORDER BY Дата DESC;

-- 8. Вивести список книг, відсортованих в алфавітному порядку назв і ціною по спадаючій
SELECT * FROM Books ORDER BY назва ASC, ціна DESC;

-- 9. Вивести книги, у яких ціна однієї сторінки < 10 копійок.
SELECT * FROM Books WHERE ціна / сторінки < 0.1;

-- 10. Вивести значення наступних колонок: число символів в назві, перші 20 символів назви великими літерами
SELECT LENGTH(назва) AS 'Число символів', UPPER(SUBSTRING(назва, 1, 20)) AS 'Перші 20 символів' FROM Books;

-- 11. Вивести значення наступних колонок: перші 10 і останні 10 символів назви прописними буквами, розділені '...'
SELECT CONCAT(LOWER(SUBSTRING(назва, 1, 10)), '...', LOWER(SUBSTRING(назва, -10))) AS 'Назва' FROM Books;

-- 12. Вивести значення наступних колонок: назва, дата, день, місяць, рік
SELECT назва, Дата, DAY(Дата) AS 'День', MONTH(Дата) AS 'Місяць', YEAR(Дата) AS 'Рік' FROM Books;

-- 13. Вивести значення наступних колонок: назва, дата, дата в форматі 'dd / mm / yyyy'
SELECT назва, Дата, DATE_FORMAT(Дата, '%d / %m / %Y') AS 'Дата (dd / mm / yyyy)' FROM Books;

-- 14. Вивести значення наступних колонок: код, ціна, ціна в грн., ціна в євро, ціна в руб.
SELECT код, ціна, ціна * 27.5 AS 'Ціна в грн.', ціна * 0.85 AS 'Ціна в євро', ціна * 75 AS 'Ціна в руб.' FROM Books;

-- 15. Вивести значення наступних колонок: код, ціна, ціна в грн. без копійок, ціна без копійок округлена
SELECT код, ціна, ROUND(ціна * 27.5) AS 'Ціна в грн. без копійок', ROUND(ціна) AS 'Ціна без копійок округлена' FROM Books;

-- 16. Додати інформацію про нову книгу (всі колонки)
INSERT INTO Books (номер, код, новинка, назва, ціна, видавництво, сторінки, формат, дата, тираж, тема, категорія)
VALUES (999, 9999, 'Yes', 'Нова книга', 25.00, 'Нове видавництво', 300, '70х100/16', '2024-04-01', 5000, 'Нова тема', 'Нова категорія');

-- 17. Додати інформацію про нову книгу (колонки обов'язкові для введення)
-- Це залежить від того, які колонки є обов'язковими в вашій таблиці. Ось приклад, якщо номер, код, назва та ціна є обов'язковими:
INSERT INTO Books (номер, код, назва, ціна)
VALUES (1000, 10000, 'Інша нова книга', 30.00);

-- 18. Видалити книги, видані до 1990 року
DELETE FROM Books WHERE YEAR(Дата) < 1990;

-- 19. Проставити поточну дату для тих книг, у яких дата видання відсутня
UPDATE Books SET Дата = CURDATE() WHERE Дата IS NULL;

-- 20. Установити ознаку новинка для книг виданих після 2005 року
UPDATE Books SET новинка = 'Yes' WHERE YEAR(Дата) > 2005;
